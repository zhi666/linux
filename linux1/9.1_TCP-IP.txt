一. TCP/IP
    TCP/IP 是互联网(Internet)的基础

    完整的网络七层模型
        1. 物理层
            主要定义物理设备标准，如网线的接口类型、光纤的接口类型、各种传输介质的传输速率等。
            主要作用是将数据最终编码为用 0、1
            标识的比特流，通过物理介质传输，这一层的数据叫做比特。
        2. 数据链路层
            主要将接收到的数据进行 MAC 地址（网卡地址）的封装与解封装。
            常把这一层的数据叫做帧。这一层常工作的设备是交换机。
        3. 网络层
            主要将接收到的数据进行 IP 地址的封装与解封装。
            常把这一层的数据叫做数据包。这一层设备是路由器。
        4. 传输层
            定义了一些数据传输的协议和端口号。
            主要将接收的数据进行分段和传输，到达目的地址后在进行重组。
            常把这一层的数据叫做段。
        5. 会话层
            通过传输层建立数据传输的通路。
            主要在系统之间发起会话或者接收会话请求。
        6. 表示层
            主要进行对接收数据的解释、加密与解密、压缩与解压缩。
            确保一个系统的应用层发送的数据能被另一个系统的应用层识别。
        7. 应用层
            主要是为一些终端应用程序提供服务。直接面对着用户的。

    TCP/IP 分层结构(常用)
        4. Application 应用层: dhcp, http, ftp, dns, nfs
        3. Transport 传输层: tcp, udp
        2. Internet 互联网层: ip
        1. Physical 物理层: wifi, 802.11g/b/n

二. ip地址配置命令

    ip命令支持缩写，以下范例中，l 表示 link, a 表示 address, r 表示route

    ip l                                        <-- 查看网卡
    ip a s                                      <-- 查看ip
    ip a add 192.168.0.183/24 dev enp0s25       <-- 给网卡添加ip
    ip a del 192.168.0.183/24 dev enp0s25       <-- 从网卡上删除ip
    ip l set enp0s25 up                         <-- 启用网卡
    ip l set enp0s25 down                       <-- 停用网卡
    ip r add default via 192.168.0.1            <-- 添加默认路由
    ip r del default                            <-- 删除默认路由
    ip r change default via 291.168.0.1         <-- 修改默认路由



三. Linux下网桥的设置

    sudo brctl show                  <-- 列出所有的网桥
    sudo brctl addbr br0             <-- 添加网桥
    sudo brctl delbr br0             <-- 删除网桥
    sudo brctl addif br0 enp0s25     <-- 把网卡加入网桥中
    sudo brctl delif br0 enp0s25     <-- 从网桥中删除网卡

    注意：一个网卡只能属于一个网桥
    这里所使用的网桥将会被用于kvm虚拟机，达到允许虚拟机的网络和物理网连接成一个大的局域网。


    在Linux系统里面创建了一个桥，然后把网卡（假设系统上只有一个网卡）加入桥中，
        然后后续所有的联网操作都是通过这个网桥，可以这样想象：这个网桥就相当于
        之前的那个网卡。把网卡加入桥之后，应该给桥设置ip地址。

    操作范例：

    假设之前系统中没有网桥，系统中有一个网卡，名字为enp0s25，ip为192.168.0.183/24，默认网关为192.168.0.1，那么，给系统创建桥，使得系统通过桥来上网，配置的参考步骤如下：

    1. 删除原来网卡上的ip地址

        sudo ip a del 192.168.0.183/24 dev enp0s25

    2. 创建桥，br0这个名字也可以随意选择

        sudo brctl addbr br0

    3. 把之前的网卡加入桥中

        sudo brctl addif br0 enp0s25

    4. 给桥设置ip地址，并启用，根据需要设置默认网关

        sudo ip a add 192.168.0.183/24 dev br0
        sudo ip l set br0 up                 <-- 这一步可能是不需要
        sudo ip r add default via 192.168.0.1

四. 安装dhcpd服务器(PPP1)
    由服务器控制一段IP地址范围，客户机登录服务器时就可以自动获得服务器分配的IP地址和子网掩码。
    两台连接到互联网上的电脑相互之间通信，必须有各自的IP地址，由于IP地址资源有限，
    宽带接入运营商不能做到给每个报装宽带的用户都能分配一个固定的IP地址
    （所谓固定IP就是即使在你不上网的时候，别人也不能用这个IP地址，这个资源一直被你所独占），
    所以要采用DHCP方式对上网的用户进行临时的地址分配。

    也就是你的电脑连上网，DHCP服务器才从地址池里临时分配一个IP地址给你，
    每次上网分配的IP地址可能会不一样，这跟当时IP地址资源有关。当下线的时候，
    DHCP服务器可能就会把这个地址分配给之后上线的其他电脑。这样就可以有效节约IP地址，
    既保证了网络通信，又提高IP地址的使用率。

五. 为多个局域网中的客户端分配IP 地址(PPP2)


